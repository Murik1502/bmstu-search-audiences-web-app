<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="BMSTU Audiences App"
      content="Web site for finding free audiences in BMSTU"
    />

    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <title>BMSTU Audiences App</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script>
      let isScrolling = false;

      window.addEventListener('scroll', function() {
        if (isScrolling) return;

        isScrolling = true;

        setTimeout(function() {
          const mylistWrap = document.querySelector('.mylist-wrap');

          if (mylistWrap.getBoundingClientRect().bottom <= window.innerHeight) {
            smoothScrollTo(0, window.scrollY - 2, 300);
          }

          isScrolling = false;
        }, 100);
      });

      function smoothScrollTo(x, y, duration) {
        const start = performance.now();
        const startY = window.scrollY;
        const distance = y - startY;

        function step(timestamp) {
          const elapsed = timestamp - start;
          const progress = Math.min(elapsed / duration, 1);
          window.scrollTo(0, startY + distance * progress);
          if (progress < 1) {
            window.requestAnimationFrame(step);
          }
        }

        window.requestAnimationFrame(step);
      }





    </script>
  </body>
</html>
